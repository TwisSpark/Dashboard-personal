
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SampSpark API - TwisSpark</title>
    <meta name="description" content="SampSpark API - Panel interactivo para comandos de SA-MP. Ejecuta acciones como work, rob, crime, heal, pay y deliver. Respuestas din√°micas desde JSON personalizable. Compatible PC y m√≥vil.">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="/static/css/principal/inicio.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title"><i class="fa-solid fa-bolt"></i> SampSpark API - TwisSpark</h1>
            <p class="subtitle">Panel interactivo para comandos de SA-MP</p>
        </header>

        <div class="main-grid">
            <!-- Comandos Disponibles -->
            <div class="card">
                <h2 class="card-title"><i class="fa-solid fa-gear"></i> Comandos Disponibles</h2>
                <div class="buttons-grid">
                    <button class="btn" onclick="ejecutarComando('/work')"><i class="fa-solid fa-briefcase"></i> Work</button>
                    <button class="btn" onclick="ejecutarComando('/rob')"><i class="fa-solid fa-money-bill-trend-up"></i> Rob</button>
                    <button class="btn" onclick="ejecutarComando('/crime')"><i class="fa-solid fa-person-running"></i> Crime</button>
                    <button class="btn" onclick="ejecutarComando('/heal')"><i class="fa-solid fa-heart-pulse"></i> Heal</button>
                    <button class="btn" onclick="ejecutarComando('/pay')"><i class="fa-solid fa-hand-holding-dollar"></i> Pay</button>
                    <button class="btn" onclick="ejecutarComando('/deliver')"><i class="fa-solid fa-box"></i> Deliver</button>
                </div>
            </div>

            <!-- Respuesta Din√°mica -->
            <div class="card">
                <h2 class="card-title"><i class="fa-solid fa-bullseye"></i> Respuesta Din√°mica</h2>
                <p class="info-text">Obt√©n respuestas desde JSON personalizable para cualquier comando</p>
                <div class="input-group">
                    <input 
                        type="text" 
                        id="archivoInput" 
                        class="input-field" 
                        placeholder="Nombre del archivo (ej: work, rob, crime)"
                        value="work"
                    >
                    <button class="btn btn-primary" onclick="ejecutarRespDinamica()">
                        <i class="fa-solid fa-rocket"></i> Ejecutar
                    </button>
                </div>
                <p class="helper-text">
                    Endpoint: <code>/resp/{archivo}</code>
                </p>
            </div>

            <!-- Respuesta del Servidor -->
            <div class="card response-card">
                <h2 class="card-title"><i class="fa-solid fa-satellite"></i> Respuesta del Servidor</h2>
                <pre id="respuesta" class="response-box">Esperando comando...</pre>
                <div class="stats">
                    <span class="stat-item">Estado: <span id="estado" class="status">‚è≥ Listo</span></span>
                    <span class="stat-item">√öltima actualizaci√≥n: <span id="timestamp">---</span></span>
                </div>
            </div>

            <!-- Informaci√≥n de la API -->
            <div class="card info-card">
                <h2 class="card-title"><i class="fa-solid fa-circle-info"></i> Informaci√≥n de SampSpark</h2>
                <div class="info-content">
                    <div class="info-item">
                        <strong>üìç Endpoints disponibles:</strong>
                        <ul class="endpoint-list">
                            <li><code>/work</code> - Comando de trabajo</li>
                            <li><code>/rob</code> - Comando de robo</li>
                            <li><code>/crime</code> - Actividades delictivas</li>
                            <li><code>/heal</code> - Curaci√≥n / m√©dico</li>
                            <li><code>/pay</code> - Transferencias entre jugadores</li>
                            <li><code>/deliver</code> - Entregas y repartos</li>
                            <li><code>/resp/{archivo}</code> - Respuesta din√°mica de JSON</li>
                        </ul>
                    </div>
                    <div class="info-item">
                        <strong>üí° Caracter√≠sticas:</strong>
                        <ul class="feature-list">
                            <li>Respuestas aleatorias desde JSON</li>
                            <li>Reemplazo din√°mico de valores {dinero}</li>
                            <li>CORS habilitado para toda la web</li>
                            <li>Compatible con tu bot de Discord </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p> SampSpark API v4.2 - TwisSpark </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script>
        function actualizarTimestamp() {
            const ahora = new Date();
            document.getElementById('timestamp').textContent = ahora.toLocaleTimeString('es-ES');
        }

        function mostrarEstado(tipo) {
            const estadoEl = document.getElementById('estado');
            if (tipo === 'cargando') {
                estadoEl.textContent = '‚è≥ Cargando...';
                estadoEl.className = 'status status-loading';
            } else if (tipo === 'exito') {
                estadoEl.textContent = '‚úÖ √âxito';
                estadoEl.className = 'status status-success';
            } else if (tipo === 'error') {
                estadoEl.textContent = '‚ùå Error';
                estadoEl.className = 'status status-error';
            }
        }

        async function ejecutarComando(endpoint) {
            const respuestaEl = document.getElementById('respuesta');
            mostrarEstado('cargando');
            
            try {
                const response = await fetch(endpoint);
                const data = await response.json();
                
                respuestaEl.textContent = JSON.stringify(data, null, 2);
                respuestaEl.className = 'response-box response-success';
                mostrarEstado('exito');
                actualizarTimestamp();
                
                setTimeout(() => {
                    respuestaEl.className = 'response-box';
                }, 1000);
            } catch (error) {
                respuestaEl.textContent = `Error: ${error.message}`;
                respuestaEl.className = 'response-box response-error';
                mostrarEstado('error');
                actualizarTimestamp();
            }
        }

        async function ejecutarRespDinamica() {
            const archivo = document.getElementById('archivoInput').value.trim();
            if (!archivo) {
                alert('Por favor ingresa un nombre de archivo');
                return;
            }
            
            const endpoint = `/resp/${archivo}`;
            await ejecutarComando(endpoint);
        }

        // Ejecutar con Enter
        document.getElementById('archivoInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                ejecutarRespDinamica();
            }
        });

        // Animaci√≥n de entrada de las cards
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        });
    </script>
</body>
</html>